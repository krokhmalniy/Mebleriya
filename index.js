import{S as te,i as m,R as re,A as oe}from"./assets/vendor-DZutkQdH.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".burger-btn"),t=document.querySelector(".mobile-menu"),r=document.querySelector(".mobile-close-btn"),n=document.querySelectorAll(".nav-link, .mobile-nav-link, .btn-buy, .mobile-buy"),o=document.querySelector(".logo"),s=document.querySelector(".furniture-grid"),i=document.querySelector(".menu-backdrop"),f=document.querySelector(".header");function p(){t&&t.classList.contains("is-open")?f.style.boxShadow="none":f.style.boxShadow="0 0.1px 1px rgba(0,0,0,0.3)"}window.addEventListener("scroll",p);let a=document.querySelector(".loader");a||(a=document.createElement("div"),a.className="loader",a.innerHTML=`<div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
                          font-size:24px;color:#6b0609;">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>`,document.body.appendChild(a));const T=()=>a.style.display="block",h=()=>a.style.display="none",Z=c=>{iziToast.error({title:"–ü–æ–º–∏–ª–∫–∞",message:c,position:"topRight",timeout:3e3})},Q=()=>{!t||!e||!r||(t.classList.add("is-open"),t.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden",e.setAttribute("aria-expanded","true"),e.style.display="none",r.style.display="block",i&&i.classList.add("is-active"),r.focus(),p())},y=()=>{!t||!e||!r||(t.classList.remove("is-open"),t.setAttribute("aria-hidden","true"),document.body.style.overflow="",e.setAttribute("aria-expanded","false"),e.style.display="",r.style.display="none",i&&i.classList.remove("is-active"),e.focus(),p())};e&&e.addEventListener("click",Q),r&&r.addEventListener("click",y),i&&i.addEventListener("click",y),document.addEventListener("keydown",c=>{c.key==="Escape"&&t&&t.classList.contains("is-open")&&y()}),document.addEventListener("click",c=>{t&&t.classList.contains("is-open")&&!t.contains(c.target)&&!e.contains(c.target)&&y()});let O=null;n.forEach(c=>{c.addEventListener("click",async ee=>{const q=c.getAttribute("href");if(t&&t.classList.contains("is-open")&&y(),q&&q.startsWith("#")){ee.preventDefault();const l=document.querySelector(q);if(l){const b=l.getBoundingClientRect().top+window.pageYOffset+-70;window.scrollTo({top:b,behavior:"smooth"})}}if(q==="#furniture"&&s){T();try{let l;if(O)l=O;else{const d=await fetch("https://furniture-store-v2.b.goit.study/api/furniture");if(!d.ok)throw new Error("–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–µ–±–ª—ñ–≤");l=await d.json(),O=l}s.innerHTML="",l.forEach(d=>{const b=document.createElement("div");b.className="furniture-card",b.innerHTML=`
              <img src="${d.image}" alt="${d.name}">
              <h3>${d.name}</h3>
              <p>${d.description}</p>
            `,s.appendChild(b)})}catch(l){Z(l.message)}finally{h()}}})}),o&&o.addEventListener("click",c=>{c.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}),t&&t.classList.contains("is-open")&&y()})});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".hero-btn");e&&e.addEventListener("click",t=>{const r=e.getAttribute("href");if(r&&r.startsWith("#")){t.preventDefault();const n=document.querySelector(r);if(n){e.classList.add("clicked");const s=n.getBoundingClientRect().top+window.pageYOffset+-70;window.scrollTo({top:s,behavior:"smooth"}),e.blur()}}})});const ne="https://furniture-store-v2.b.goit.study/api",R=10,N=()=>document.querySelector(".feedback__loader"),j=()=>document.getElementById("feedbackList"),se=()=>document.querySelector(".feedback__prev"),ie=()=>document.querySelector(".feedback__next"),ce=()=>{var e;return(e=N())==null?void 0:e.removeAttribute("hidden")};function ae(e){const t=Number(e);return t>=3.3&&t<=3.7?3.5:t>=3.8&&t<=4.2?4:Math.round(t*2)/2}function le({name:e,descr:t,rate:r}){return`
    <div class="swiper-slide">
      <article class="feedback-card">
        <div class="feedback-card__content">
          <div class="feedback-card__block">
            <div class="feedback-card__stars" data-score="${ae(r)}"></div>
            <p class="feedback-card__text">‚Äú${t}‚Äù</p>
            <p class="feedback-card__author">${e}</p>
          </div>
        </div>
      </article>
    </div>`}async function de(){var t,r;const e=`${ne}/feedbacks?limit=${R}`;try{ce();const n=await fetch(e);if(!n.ok)throw new Error(`HTTP ${n.status}`);const o=await n.json();return((t=o==null?void 0:o.feedbacks)==null?void 0:t.slice(0,R))??[]}catch{return m.warning({title:"‚ö† API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–µ",message:"–ü–æ–∫–∞–∑–∞–Ω–æ —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ.",position:"topRight",timeout:2500}),[{name:"–û–ª–µ–Ω–∞ –ö–æ–≤–∞–ª—å",descr:"–î—É–∂–µ –∑–∞–¥–æ–≤–æ–ª–µ–Ω–∞ –ø–æ–∫—É–ø–∫–æ—é! –î–∏–≤–∞–Ω –Ω–µ —Ç—ñ–ª—å–∫–∏ —Å—Ç–∏–ª—å–Ω–∏–π, –∞ –π –Ω–µ–π–º–æ–≤—ñ—Ä–Ω–æ –∑—Ä—É—á–Ω–∏–π.",rate:4.5},{name:"–Ü—Ä–∏–Ω–∞ –°–æ–∫–æ–ª–æ–≤–∞",descr:"–ù–∞—Ä–µ—à—Ç—ñ –∑–Ω–∞–π—à–ª–∏ –º–µ–±–ª—ñ, —è–∫—ñ —ñ–¥–µ–∞–ª—å–Ω–æ –≤–ø–∏—Å–∞–ª–∏—Å—å —É –Ω–∞—à —ñ–Ω—Ç–µ—Ä‚Äô—î—Ä.",rate:4},{name:"–ê–Ω–¥—Ä—ñ–π –®–µ–≤—á–µ–Ω–∫–æ",descr:"–ó–∞–º–æ–≤–ª—è–≤ —à–∞—Ñ—É –π –ª—ñ–∂–∫–æ ‚Äî –≤—Å–µ –ø—Ä–∏—ó—Ö–∞–ª–æ —Ä–∞–Ω—ñ—à–µ —Ç–µ—Ä–º—ñ–Ω—É!",rate:5}]}finally{(r=N())==null||r.remove()}}function ue(){document.querySelectorAll(".feedback-card__stars").forEach(e=>{const t=Number(e.dataset.score||4);new re(e,{readOnly:!0,score:t,half:!0,starType:"img",starOn:"https://cdn.jsdelivr.net/npm/raty-js/lib/images/star-on.png",starOff:"https://cdn.jsdelivr.net/npm/raty-js/lib/images/star-off.png",starHalf:"https://cdn.jsdelivr.net/npm/raty-js/lib/images/star-half.png"}).init()})}function H(e){se().disabled=e.isBeginning,ie().disabled=e.isEnd}async function fe(){const e=await de();if(!e.length){j().innerHTML=`
      <div class="swiper-slide">
        <p class="feedback-card__text">–ù–µ–º–∞—î –≤—ñ–¥–≥—É–∫—ñ–≤ üòî</p>
      </div>`;return}j().innerHTML=e.map(le).join(""),ue(),new te(".feedback__swiper",{slidesPerView:3,spaceBetween:24,pagination:{el:".feedback__pagination",clickable:!0},navigation:{prevEl:".feedback__prev",nextEl:".feedback__next"},breakpoints:{320:{slidesPerView:1,spaceBetween:16},768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}},on:{afterInit(t){H(t)},slideChange(t){H(t)}}})}document.addEventListener("DOMContentLoaded",fe);document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".footer-logo"),t=document.querySelectorAll(".footer-link"),r=document.querySelectorAll(".footer-socials a"),n=document.querySelector(".footer-copyright");if(t.forEach(o=>{o.addEventListener("click",s=>{const i=o.getAttribute("href");if(i&&i.startsWith("#")){s.preventDefault();const f=document.querySelector(i);if(f){const a=f.getBoundingClientRect().top+window.pageYOffset+-70;window.scrollTo({top:a,behavior:"smooth"})}}})}),e&&e.addEventListener("click",o=>{window.location.href="./index.html"}),r.forEach(o=>{o.setAttribute("target","_blank"),o.setAttribute("rel","noopener noreferrer")}),n){const o=new Date().getFullYear();n.textContent=`¬© ${o} –ú–µ–±–ª–µ—Ä—ñ—è. –í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ`}});const me="https://furniture-store-v2.b.goit.study/api",$=document.querySelector(".order-modal"),pe=document.querySelector(".form-container .close-button"),C=document.getElementById("orderForm");let A=null,x=null;function ye(e,t){A=e,x=t,console.log(A,x),$.classList.add("is-open"),document.body.style.overflow="hidden",document.addEventListener("keydown",z)}function M(){$.classList.remove("is-open"),document.body.style.overflow="",document.removeEventListener("keydown",z),C.reset()}function z(e){e.key==="Escape"&&M()}pe.addEventListener("click",M);$.addEventListener("click",e=>{e.target===$&&M()});function ge(e){const t=/^\+?380\d{9}$/;return!e.name||e.name.length<2?(m.error({message:"–Ü–º'—è –ø–æ–≤–∏–Ω–Ω–æ –º—ñ—Å—Ç–∏—Ç–∏ –º—ñ–Ω—ñ–º—É–º 2 —Å–∏–º–≤–æ–ª–∏.",position:"topRight"}),!1):!e.phone||!t.test(e.phone.replace(/[\s\(\)\-]/g,""))?(m.error({message:"–í–≤–µ–¥—ñ—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–∏–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É —É —Ñ–æ—Ä–º–∞—Ç—ñ +380XXXXXXXXX.",position:"topRight"}),!1):!0}C.addEventListener("submit",async e=>{e.preventDefault();const t=new FormData(C),r=Object.fromEntries(t.entries());if(r.furnitureId=A,r.marker=x,r.modelId=A,r.color=x,delete r.furnitureId,delete r.marker,!ge(r))return;const n=C.querySelector(".submit-btn");n.disabled=!0,n.textContent="–ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è...";try{const o=await fetch(`${me}/orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!o.ok){const s=await o.json();m.error({title:"–ü–æ–º–∏–ª–∫–∞!",message:s.message||"–ù–µ –≤–¥–∞–ª–æ—Å—è –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ –∑–∞—è–≤–∫—É. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ.",position:"topRight"});return}m.success({title:"–£—Å–ø—ñ—Ö!",message:"–í–∞—à–∞ –∑–∞—è–≤–∫–∞ —É—Å–ø—ñ—à–Ω–æ –Ω–∞–¥—ñ—Å–ª–∞–Ω–∞. –ú–∏ —Å–∫–æ—Ä–æ –∑–≤'—è–∂–µ–º–æ—Å—è –∑ –í–∞–º–∏.",position:"topRight"}),M()}catch{m.error({title:"–ü–æ–º–∏–ª–∫–∞ –º–µ—Ä–µ–∂—ñ!",message:"–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤–∞—à–µ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–∑'—î–¥–Ω–∞–Ω–Ω—è.",position:"topRight"})}finally{n.disabled=!1,n.textContent="–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –∑–∞—è–≤–∫—É"}});const F="/Mebleriya/assets/symbol-defs-dZVeHqwl.svg",u=document.querySelector(".modal-overlay"),he=document.querySelector(".close-button");document.querySelector(".modal-details");const be=document.querySelector(".modal-contant-button"),we=document.querySelector(".modal-category"),ve=document.querySelector(".description-modal"),Le=document.querySelector(".dimensions-modal"),I=document.querySelector(".stars.star-rating"),_=document.querySelector(".modal-loader"),L=document.querySelector(".modal-contant");document.querySelector(".order-modal");const U=document.querySelector("body");let B=null;function ke(e){e.classList.add("is-open"),U.style="overflow: hidden"}document.addEventListener("click",e=>{const t=e.target.closest(".our-furniture-card-button");t&&(ke(u),B=t.dataset.id,Me(),_e().then(r=>{Se.src=r.images[0],qe.src=r.images[1],Ce.src=r.images[2],$e.textContent=r.name,we.textContent=r.category.name,Ae.textContent=r.price+" –≥—Ä–Ω",I.innerHTML="",Te(I,Oe(r.rate)),D.innerHTML="";const n=r.color.map((o,s)=>`<input type="radio" name="option" style="background-color:${o}" ${s===0?"checked":""}>`).join("");D.insertAdjacentHTML("beforeend",n),ve.textContent=r.description,Le.textContent=r.sizes,be.addEventListener("click",()=>{const o=document.querySelector('input[name="option"]:checked'),s=getComputedStyle(o).backgroundColor;function i(p){return"#"+p.match(/\d+/g).map(T=>{const h=parseInt(T).toString(16);return h.length===1?"0"+h:h}).join("")}const f=i(s);w(u),ye(B,f)}),X()}).catch(r=>{m.error({title:"–ü–æ–º–∏–ª–∫–∞!",message:"–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –¥–∞–Ω—ñ –∑ —Å–µ—Ä–≤–µ—Ä–∞.",position:"topRight"})}))});function w(e){e.classList.remove("is-open"),U.style=""}function Ee(){he.addEventListener("click",()=>{w(u)}),u.addEventListener("click",e=>{e.target===u&&w(u)}),window.addEventListener("keydown",e=>{e.key==="Escape"&&w(u)})}Ee();const Se=document.querySelector(".img-first"),qe=document.querySelector(".img-second"),Ce=document.querySelector(".img-third"),$e=document.querySelector(".modal-contant-title"),Ae=document.querySelector(".price"),D=document.querySelector(".wrapper-checkbox"),xe="https://furniture-store-v2.b.goit.study/api/furnitures";async function _e(){const e=`${xe}/${B}`;try{const t=await fetch(e,{headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`HTTP${t.status}`);return await t.json()}catch(t){return X(),w(u),t}}window.addEventListener("resize",()=>{(!_.style.display||_.style.display==="none")&&(window.innerWidth>=1440?L.style.display="flex":L.style.display="block")});function Me(){_.style.display="block",L.style.display="none"}function X(){_.style.display="none",window.innerWidth>=1440?L.style.display="flex":L.style.display="block"}function Te(e,t){e.innerHTML="";for(let r=1;r<=5;r++){const n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("width","16"),n.setAttribute("height","15"),n.setAttribute("viewBox","0 0 32 32");const o=document.createElementNS("http://www.w3.org/2000/svg","use");r<=Math.floor(t)?(o.setAttribute("href",`${F}#icon-vector-full`),o.setAttribute("fill","rgba(8, 12, 9, 1)")):r-.5===t?(o.setAttribute("href",`${F}#icon-vector-half`),o.setAttribute("fill","rgba(8, 12, 9, 1)")):(o.setAttribute("href",`${F}#icon-star`),o.setAttribute("fill","rgba(8, 12, 9, 1)")),n.appendChild(o),e.appendChild(n)}}function Oe(e){const t=Number(e);return t>=3.3&&t<=3.7?3.5:t>=3.8&&t<=4.2?4:Math.round(t*2)/2}new oe(".accordion-container",{duration:500,ariaEnabled:!0,collapse:!0,elementClass:"ac"});const Fe="https://furniture-store-v2.b.goit.study/api/furnitures",P=document.querySelector(".our-furniture-product-list");let g=1;const k=8,E=document.querySelector(".our-furniture-show-more-btn");async function V(e,t){const r=await fetch(`${Fe}?page=${e}&limit=${t}`);if(!r.ok)throw new Error("Failed to fetch furniture list");return await r.json()}function W(e){const t=document.createElement("li");return t.className="our-furniture-product-list-card",t.innerHTML=`
        <img width="340px" height="250px" src="${e.images[0]}" alt="${e.name}" class="our-furniture-card-image"/>
        <h3 class="our-furniture-card-title">${e.name}</h3>
        <ul class="our-furniture-card-color-list">
            ${e.color.map(r=>`<li class="our-furniture-card-color" style="background-color: ${r};"></li>`).join("")}
          </ul>    
        <p class="our-furniture-card-price">${e.price} –≥—Ä–Ω</p>
        <button class="our-furniture-card-button"data-id="${e._id}">–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ</button>
    `,t}function Y(e){const t=document.querySelector(`#${e}`);t?t.style.display="flex":console.log(`error showing loader, class is ${e}`)}function v(e){const t=document.querySelector(`#${e}`);t&&(t.style.display="none")}function K(e,t){t.innerHTML="",e.furnitures.forEach(r=>{const n=W(r);t.appendChild(n),e.totalItems>k?Pe():G()})}function Be(){try{V(g,k).then(e=>{K(e,P)}).catch(e=>{console.error("Error loading furniture list:",e),iziToast.error({title:"Error",message:"Failed to load furniture list. Please try again later."})})}catch(e){console.error("Unexpected error:",e)}}function Pe(){E.classList.contains("is-open")||E.classList.add("is-open")}function G(){E.classList.contains("is-open")&&E.classList.remove("is-open")}function Re(){g=1}function je(){Y("loaderShowMore"),g+=1,V(g,k).then(e=>{e.furnitures.forEach(t=>{const r=W(t);P.appendChild(r)}),e.totalItems<=g*k&&G(),v("loaderShowMore")}).catch(e=>{v("loaderShowMore"),console.error("Error loading more furniture:",e),iziToast.error({title:"Error",message:"Failed to load more furniture. Please try again later."})})}E.addEventListener("click",je);const J="https://furniture-store-v2.b.goit.study/api",S=document.querySelector(".our-furniture-categories");async function He(){const e=await fetch(`${J}/categories`);if(!e.ok)throw new Error("Failed to fetch furniture categories");return await e.json()}function Ie(e){return Array.isArray(e)?e.slice().sort((t,r)=>{const n=t&&t._id?String(t._id):"",o=r&&r._id?String(r._id):"",s=n.slice(-2),i=o.slice(-2);return s.localeCompare(i,void 0,{sensitivity:"base"})}):[]}function De(e){const t=document.createElement("li");return t.innerHTML=`
   <button
  class="our-furniture-category-card"
  data-category="${e._id}"
  data-category-name="${e.name}"
>
<span class="our-furniture-category-card-label">${e.name}</span>
</button>
    `,t}function Ne(e){S.innerHTML='<button class="our-furniture-category-card is-active" style="background-image: url(./img/our-furniture/1-x/all-products.jpg); background-image: image-set(url(./img/our-furniture/1-x/all-products.jpg) 1x, url(./img/our-furniture/2-x/all-products@2x.jpg) 2x);"><span class="our-furniture-category-card-label">–í—Å—ñ —Ç–æ–≤–∞—Ä–∏</span></button></li>',e.forEach(t=>{const r=De(t);S.appendChild(r)})}function ze(){He().then(e=>{Ne(Ie(e))}).catch(e=>{console.error("Error loading furniture categories:",e),iziToast.error({title:"Error",message:"Failed to load furniture categories. Please try again later."})})}async function Ue(e,t,r){return await fetch(`${J}/furnitures?page=${e}&limit=${t}`+(r?`&category=${r}`:""))}S.addEventListener("click",e=>{const t=e.target.closest(".our-furniture-category-card");if(!t)return;const r=t.getAttribute("data-category")||null;try{Re(),Y("loaderProductList"),Ue(g,k,r).then(n=>{if(!n.ok)throw new Error("Failed to fetch furniture list by filter");return n.json()}).then(n=>{K(n,P),v("loaderProductList")}).catch(n=>{console.error("Error loading filtered furniture list:",n),iziToast.error({title:"Error",message:"Failed to load furniture list. Please try again later."}),v("loaderProductList")})}catch(n){console.error("Unexpected error:",n),v("loaderProductList")}});function Xe(e){const t=S.querySelector(".our-furniture-category-card.is-active");t&&t.classList.remove("is-active"),e.classList.add("is-active")}S.addEventListener("click",e=>{const t=e.target.closest(".our-furniture-category-card");t&&Xe(t)});ze();Be();
//# sourceMappingURL=index.js.map
